function Cookie(){return this.init.apply(this,arguments);}Cookie.prototype=(function(){return{init:function(A){var B="";A=A||{};if(/https?:\/\/[^\/]+([^\?]+)/i.test(location.href)){B=RegExp.$1;}this.path=(A.path||B||"/").replace(/(\/)[^\/]*$/,"$1");this.expires=A.expires||1000*60*60*24*365;},set:function(B,C){var A=new Date();if(typeof (this.expires)=="number"){A.setTime(A.getTime()+this.expires);}document.cookie=B+"="+escape(C)+";expires="+A.toGMTString()+";path="+this.path;},get:function(B){var A,C=new RegExp("(^| )"+B+"=([^;]*)(;|$)");if(A=document.cookie.match(C)){return unescape(A[2]);}else{return"";}},remove:function(B){var A=this.expires;this.expires=-1*1000*60*60*24*365;this.set(B,"");this.expires=A;}};})();Cookie.set=function(B,A,D){var C=new Cookie(D);C.set(B,A);};Cookie.get=function(A,C,D){var B=new Cookie(D);v=B.get(A);if(C){C(v);}return v;};Cookie.remove=function(A,C){var B=new Cookie(C);B.remove(A);};function Store(){return this.init.apply(this,arguments);}Store.prototype=(function(){var A=null;var B={globalstorage:{size:5*1024*1024,test:function(){return !!window.globalStorage&&BB.Browser.firefox&&BB.Browser.version>=2;},methods:{init:function(){},get:function(D,E){var C=globalStorage[location.hostname].getItem(D);C=C===null?"":C;if(E){E.call(this,C);}return C;},set:function(C,D){globalStorage[location.hostname].setItem(C,D);},remove:function(C){globalStorage[location.hostname].removeItem(C);}}},flash:{size:100*1024,test:function(){if(!BB.Browser.ie){return false;}var E=-1;if(window.ActiveXObject){for(var D=12;D>=8;D--){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+D)){E=parseInt(D);break;}}catch(C){}}}return E>=8;},methods:{init:function(){document.DOMLoaded(function(){var C=BB.JSPATH+"util/cache/";var D=document.createElement("div");D.id="__FLASH_STORE_DIV__";document.body.appendChild(D);$("__FLASH_STORE_DIV__").innerHTML='<object id="__FLASH_STORE__" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="1" height="1"><param name="allowScriptAccess" value="always" /><param name="movie" value="'+C+"cache.swf?v="+Math.random()+'" /><param name="autostart" value="true" />';});},get:function(D,E){var F=this;var C=setInterval(function(){if($("__FLASH_STORE__")&&$("__FLASH_STORE__").get){var G="";try{G=$("__FLASH_STORE__").get("__STORE__",D);}catch(H){}clearInterval(C);C=null;if(E){E.call(F,G||"");}}},10);setTimeout(function(){if(C){clearInterval(C);if(E){E.call(F,"");}}},10000);},set:function(D,F){if(F==""){return ;}var E=this;var C=setInterval(function(){if($("__FLASH_STORE__")&&$("__FLASH_STORE__").set){try{$("__FLASH_STORE__").set("__STORE__",D,F);}catch(G){}clearInterval(C);C=null;}},10);setTimeout(function(){if(C){clearInterval(C);}},10000);},remove:function(D){var E=this;var C=setInterval(function(){if($("__FLASH_STORE__")&&$("__FLASH_STORE__").remove){try{$("__FLASH_STORE__").remove("__STORE__",D);}catch(F){}clearInterval(C);C=null;}},10);setTimeout(function(){if(C){clearInterval(C);}},10000);}}},userdata:{size:64*1024,test:function(){if(!!window.ActiveXObject){try{document.documentElement.addBehavior("#default#userdata");return true;}catch(C){return false;}}else{return false;}},methods:{init:function(){},get:function(D,E){document.documentElement.load(D);var C=document.documentElement.getAttribute("value")||"";C=C===null?"":C;if(E){E.call(this,C);}},set:function(C,D){document.documentElement.load(C);document.documentElement.setAttribute("value",D);document.documentElement.save(C);},remove:function(C){this.set(C,"");}}},cookie:{size:4000,test:function(){var E=new Cookie(),D="__EC_TEST__",C=new Date().toGMTString();E.set(D,C);var F=E.get(D);E.remove(D);return F==C;},methods:{init:function(){this._ck=new Cookie({path:"/"});},get:function(D,E){var C=this._ck.get(D)||"";if(E){E.call(this,C);}return C;},set:function(C,D){this._ck.set(C,D);},remove:function(C){this._ck.remove(C);}}},none:{size:0,test:function(){return true;},methods:{init:function(){},get:function(){return"";},set:function(){},remove:function(){}}}};return{init:function(){A=arguments.length>0?Array.toArray(arguments):["globalstorage","userdata","none"];if(!BB.Browser.ie&&!BB.Browser.firefox){A=["none"];}for(var E=0;E<A.length;E++){var C=B[A[E]];if(C.test()){var D=C.methods;D.storageType=A[E];D.size=C.size;D.init();return D;}}return null;}};})();var Storage=new Store();